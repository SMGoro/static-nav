# 分享功能使用说明

## 功能概述

分享功能允许用户将本地数据以链接形式分享给其他用户，支持纯前端实现，无需服务器。

## 主要特性

### 1. 数据简化
- 只包含用户新增的网站数据，不包含默认数据
- 只包含新增网站使用的标签，减少数据量
- 使用Base64编码压缩分享链接

### 2. 重复检测
- 自动检测重复网站（基于URL和标题）
- 自动检测重复标签（基于名称）
- 提供详细的重复信息展示

### 3. 导入选项
- **仅导入新内容**：跳过重复数据，只添加新内容
- **替换重复内容**：用分享数据替换重复内容
- **取消导入**：不进行任何操作

## 使用方法

### 创建分享链接

1. 在导航页面点击"创建分享"按钮
2. 可选择添加分享说明和设置过期时间
3. 点击"生成分享链接"
4. 复制生成的链接分享给他人

### 导入分享数据

1. 打开分享链接
2. 系统自动检测重复数据
3. 如果有重复数据，选择导入方式：
   - 查看新增内容和重复内容
   - 选择导入策略
4. 确认导入，数据将添加到本地

## 技术实现

### 数据格式
```typescript
interface ShareData {
  websites: Website[];  // 用户新增的网站
  tags: Tag[];         // 网站使用的标签
  message?: string;    // 分享说明
  shareId: string;     // 分享ID
  createdAt: string;   // 创建时间
  expiresAt?: string;  // 过期时间
}
```

### 链接格式
```
https://your-domain.com/?share=<base64-encoded-data>
```

### 重复检测逻辑
- **网站重复**：URL相同或标题相同
- **标签重复**：标签名称相同

## 测试功能

访问"分享测试"页面可以：
1. 生成测试分享链接
2. 测试导入功能
3. 验证重复检测
4. 查看功能说明

## 注意事项

1. 分享链接包含完整数据，请谨慎分享
2. 过期时间到期后链接将失效
3. 导入时会自动合并到现有数据中
4. 支持导入多个分享链接
5. 数据保存在浏览器本地存储中

## 错误处理

- 无效链接：显示"分享链接无效或已过期"
- 导入失败：显示具体错误信息
- 网络错误：提示重试

## 未来改进

1. 支持数据压缩进一步缩短链接
2. 添加分享统计功能
3. 支持分享历史记录
4. 添加数据加密功能
